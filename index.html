<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Moving Dots</title>
    <style>
        body {
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background-color: white;
        }
        .board {
            display: grid;
            grid-template-columns: repeat(100, 1fr);
            grid-template-rows: repeat(100, 1fr);
            border: 5px solid black;
            width: 500px;
            height: 500px;
            position: relative;
        }
        .cell {
            border: 1px solid lightgray;
            box-sizing: border-box;
        }
        .dot {
            position: absolute;
            width: 100%;
            height: 100%;
            background-color: black;
        }
        button {
            margin-top: 20px;
            padding: 10px 20px;
            font-size: 16px;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <div>
        <div class="board" id="board"></div>
        <button onclick="start()">Start</button>
        <button onclick="stop()">Stop</button>
        <button onclick="reset()">Reset</button>
    </div>

    <script>
        const board = document.getElementById('board');
        const numDots = 10;
        const boardSize = 100;
        const dotSize = 1;  // 1 cell
        let dots = [];
        let interval;
        
        function createBoard() {
            for (let i = 0; i < boardSize; i++) {
                for (let j = 0; j < boardSize; j++) {
                    const cell = document.createElement('div');
                    cell.classList.add('cell');
                    board.appendChild(cell);
                }
            }
        }

        function createDot() {
            const dot = {
                x: Math.floor(Math.random() * boardSize),
                y: Math.floor(Math.random() * boardSize),
                dx: (Math.random() * 2 - 1) * (Math.random() * 30 + 20),
                dy: (Math.random() * 2 - 1) * (Math.random() * 30 + 20)
            };
            dots.push(dot);
        }

        function moveDots() {
            dots.forEach(dot => {
                // Move the dot
                dot.x += Math.round(dot.dx);
                dot.y += Math.round(dot.dy);

                // Reflect off walls
                if (dot.x < 0 || dot.x >= boardSize) dot.dx = -dot.dx;
                if (dot.y < 0 || dot.y >= boardSize) dot.dy = -dot.dy;

                // Draw the dot
                const dotElement = document.createElement('div');
                dotElement.classList.add('dot');
                dotElement.style.left = dot.x + 'px';
                dotElement.style.top = dot.y + 'px';
                board.appendChild(dotElement);
            });
        }

        function start() {
            reset(); // Reset before starting
            createBoard();
            dots = [];
            for (let i = 0; i < numDots; i++) {
                createDot();
            }

            interval = setInterval(() => {
                board.innerHTML = '';  // Clear previous frame
                createBoard();
                moveDots();
            }, 50); // Update every 50ms (20 frames per second)
            
            // Auto reset after 1 minute
            setTimeout(reset, 60000);
        }

        function stop() {
            clearInterval(interval);
        }

        function reset() {
            clearInterval(interval);
            board.innerHTML = '';  // Clear board
            createBoard();
            dots = [];
        }

        // Initialize board
        createBoard();
    </script>
</body>
</html>
